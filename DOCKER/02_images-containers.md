# üì¶ –†–∞–±–æ—Ç–∞ —Å –æ–±—Ä–∞–∑–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

## –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç—ã —Å –æ–±—Ä–∞–∑–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
–°–∫–∞—á–∞—Ç—å –æ–±—Ä–∞–∑ —Å docker hub
```bash
docker pull <–æ–±—Ä–∞–∑>
```
–í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –æ–±—Ä–∞–∑–∞—Ö
```bash
docker images
```
–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–∑ - —Å–æ–∑–¥–∞—Å—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –µ–≥–æ
```bash
docker run --name <name> <–∏–º—è –æ–±—Ä–∞–∑–∞>
```
–í—ã–≤–µ—Å—Ç–∏ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker ps -a
```
–í—ã–≤–æ–¥ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker ps
```
–ß–µ—Ä–µ–∑ : –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–≥ –æ–±—Ä–∞–∑–∞ –∏ —Ç–µ–≥–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
```bash
docker run -it python:3.12-alpine
```
–ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```bash
docker start <–∏–º—è –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ä—Ç–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞>
```
–ü—Ä–∏–≤—è–∑–∞—Ç—å –≤—ã–≤–æ–¥ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º—É –ø–æ—Ç–æ–∫—É –≤—ã–≤–æ–¥–∞
```bash
docker start -i <name>
```
–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```bash
docker stop <–∏–º—è –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ä—Ç–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞>
docker kill <–∏–º—è –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ä—Ç–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞> # –≤ –∫—Ä–∞–π–Ω–µ–º —Å–ª—É—á–∞–µ
```
–£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```bash
docker rm <–∏–º—è –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ä—Ç–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞>
```
–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
```bash
docker container prune
```
–£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑ 
```bash
docker rmi <–∏–º—è –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ä—Ç–æ—Ä –æ–±—Ä–∞–∑–∞>
```
–î–ª—è –ø–æ–º–æ—â–∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ
```bash
docker run --help
```

## Dockerfile. –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º —Ñ–∞–π–ª Dockerfile –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–∞ docker'–æ–º.
–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

![–§–æ—Ç–æ](https://fuzeservers.ru/wp-content/uploads/4/6/5/465d44c7c5c37542ef677ebb4da74b91.png)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ `Dockerfile`:**

| –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------------|------------|
| `FROM`         | –ë–∞–∑–æ–≤—ã–π –æ–±—Ä–∞–∑ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `python:3.12`) |
| `COPY`         | –ö–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–±–æ—Ä–∫–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `WORKDIR`      | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `RUN`          | –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –æ–±—Ä–∞–∑–∞ |
| `CMD`          | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `ENTRYPOINT`   | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `CMD`, –Ω–æ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ |
| `EXPOSE`       | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã (–Ω–µ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–±—Ä–æ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) |
| `ENV`          | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è |

---

–ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–∑–∞ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç python —Å–∫—Ä–∏–ø—Ç –∏–∑ –ø–∞–ø–∫–∏ —Å –ø—Ä–æ–µ–∫—Ç–æ–º.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
my-python-app/
‚îú‚îÄ‚îÄ Dockerfile
‚îî‚îÄ‚îÄ script.py
```
Dockerfile:
```
FROM python:3.12-slim

# –û—Ç–∫–ª—é—á–∞–µ–º –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é, —á—Ç–æ–±—ã –≤—ã–≤–æ–¥ —Å—Ä–∞–∑—É –ø–æ–ø–∞–¥–∞–ª –≤ stdout
ENV PYTHONUNBUFFERED=1

# –†–∞–±–æ—á–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
WORKDIR /app

# –ö–æ–ø–∏—Ä—É–µ–º —Å–∫—Ä–∏–ø—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (. –ø—Ä–æ—Å—Ç–æ –≤ –ø–∞–ø–∫—É app)
COPY script.py .

# –ö–æ–º–∞–Ω–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
CMD ["python", "script.py"]
```

–°–±–æ—Ä–∫–∞ docker –æ–±—Ä–∞–∑–∞:
```bash
docker build . -t my-python-image 
# -t my-python-image ‚Äî –∏–º—è –æ–±—Ä–∞–∑–∞
# . ‚Äî —Ç–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è (–ø—É—Ç—å –¥–æ Dockerfile)
```

–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ c –≤—ã–≤–æ–¥–æ–º –≤ –∫–æ–Ω—Å–æ–ª—å
```bash
docker run my-python-image
```
–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ c –≤—ã–≤–æ–¥–æ–º –≤ –∫–æ–Ω—Å–æ–ª—å –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
```bash
docker run -it --rm my-python-image
# --rm —É–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
```
–ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ
```bash
docker run -d --name my-container my-python-image
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤ –∏ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–°–ª–æ–∏ Docker –æ–±—Ä–∞–∑–∞**

- –ö–∞–∂–¥—ã–π —Å–ª–æ–π –≤ Docker —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π Dockerfile (`FROM`, `COPY`, `RUN` –∏ —Ç.–¥.).
- Docker –∫—ç—à–∏—Ä—É–µ—Ç —Å–ª–æ–∏ ‚Äî –µ—Å–ª–∏ —Å–ª–æ–π –Ω–µ –º–µ–Ω—è–ª—Å—è, –æ–Ω –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –∫—ç—à–∞.
- –ï—Å–ª–∏ –≤–µ—Ä—Ö–Ω–∏–π —Å–ª–æ–π –∏–∑–º–µ–Ω–∏–ª—Å—è, –≤—Å–µ –Ω–∏–∂–µ–ª–µ–∂–∞—â–∏–µ –∫—ç—à —Å–ª–µ—Ç–∞—é—Ç.

–ò–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É —Å—Ç–æ–∏—Ç —Ä–∞–∑–¥–µ–ª—è—Ç—å `COPY` - COPY . . Docker —Å—á–∏—Ç–∞–µ—Ç, —á—Ç–æ –≤—Å—ë –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –¥–∞–∂–µ –ø—Ä–∏ –º–∞–ª–µ–π—à–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏.
```
# –ö–æ–ø–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
COPY requirements.txt .

# –°—Ç–∞–≤–∏–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
RUN pip install -r requirements.txt

# –ü–æ—Ç–æ–º –∫–æ–ø–∏—Ä—É–µ–º –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ
COPY . .
```

**CMD vs ENTRYPOINT**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞           | CMD                         | ENTRYPOINT                      |
|--------------------------|-----------------------------|----------------------------------|
| –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è         |  –î–∞                        |  –ù–µ—Ç (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `--entrypoint`) |
| –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å            | –ö–æ–º–∞–Ω–¥–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é        | –ñ—ë—Å—Ç–∫–æ –∑–∞–¥–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞      |
| –ê—Ä–≥—É–º–µ–Ω—Ç—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ    | –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω—è—é—Ç CMD      | –ü–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã         |

**–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```bash
docker logs <container>
```

–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∫–∞–∫ –æ–±—Ä–∞–∑:

```bash
docker commit <container> <new_image>
```

–£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–æ–º–∞ –∏ —Å–µ—Ç–∏:

```bash
docker system prune
```

–£–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫—ç—à —Å–±–æ—Ä–∫–∏:

```bash
docker builder prune
```

–£–¥–∞–ª–∏—Ç—å –≤–µ—Å—å –∫—ç—à —Å–±–æ—Ä–∫–∏ (—Å–ª–æ–∏, unused –∫–µ—à, –≤—Å—ë –ø–æ–¥—Ä—è–¥):

```bash
docker builder prune --all
```

–£–¥–∞–ª–∏—Ç—å **–≤—Å–µ** –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã:

```bash
docker image prune -a
```

–£–¥–∞–ª–∏—Ç—å **–≤–µ—Å—å** –≤–æ–∑–º–æ–∂–Ω—ã–π –º—É—Å–æ—Ä –≤–∫–ª—é—á–∞—è **–≤—Å–µ** –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã:

```bash
docker system prune -a
```

–¢–∞–∫–∂–µ —É –∫–æ–º–º–∞–Ω–¥ –∫–∞–∫ pause, ps –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –µ—Å—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ–ª–∞–≥–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```
docker ps -q -f status=restarting
docker stop $(docker ps -q)
```