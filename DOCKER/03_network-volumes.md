# üìö –†–∞–±–æ—Ç–∞ —Å –ø–æ—Ä—Ç–∞–º–∏ –∏ —Ç–æ–º–∞–º–∏.

## –†–∞–±–æ—Ç–∞ —Å –ø–æ—Ä—Ç–∞–º–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ Docker

–í–Ω–µ—à–Ω—è—è —Å–µ—Ç—å —Ö–æ—Å—Ç–∞ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è —Å–µ—Ç—å docker —è–≤–ª—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∏ –º–æ–≥—É—Ç –æ–±—â–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç—ã.

–í—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON –æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–∏–µ —Å–ª—É—à–∞–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–æ—Ä—Ç—ã (–ø–æ—Ä—Ç –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏ —á–µ—Ä–µ–∑ docker ps) –∏ ip
```bash
docker container inspect <container_id –∏–ª–∏ container_name>
```

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Ä—Ç–∞—Ö
```bash
docker port <container_id –∏–ª–∏ container_name>
```

–ß—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ø–æ—Ä—Ç 80/tcp nginx —Å –Ω–∞—à–∏–º –≤–Ω–µ—à–Ω–∏–º –ø–æ—Ä—Ç–æ–º 8000 –Ω–µ–æ–±—Ö–æ–¥–∏–º —Ñ–ª–∞–≥ -p –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
```bash
docker run --name container_name -d -p 8000:80 nginx
```
–¢–µ–ø–µ—Ä—å 80/tcp -> 0.0.0.0:8000 –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `docker port`

–ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å —Ç–æ—á–Ω—ã–π ip –∞–¥—Ä–µ—Å
```bash
docker run --name container_name -d -p 127.0.0.1:8000:80 nginx
```

–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª bash
```bash
docker exec -it container_name bash
```

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è EXPOSE –≤ Dockerfile –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç –∏ –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –µ–≥–æ –Ω–∞—Ä—É–∂—É, –∞ –¥–µ–∫–ª–∞—Ä–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—à–∞–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–æ—Ä—Ç –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
```bash
EXPOSE 80
EXPOSE 5000/tcp
EXPOSE 6379/udp
```

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∑–∞–Ω–∞—á–µ–Ω–∏—è –ø–æ—Ä—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è -P
```bash
docker run --name container_name -d -P nginx
```

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —á–µ—Ä–µ–∑ `exec` –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Dockerfile
```bash
FROM python:3.13
RUN groupadd -r group_name && useradd -r -g group_name user_name

...

EXPOSE 4000
USER user_name
CMD ["python", "main.py"]
```

## –†–∞–±–æ—Ç–∞ —Å —Ç–æ–º–∞–º–∏ (volumes) Docker

–¢–æ–º–∞ (volumes) –≤ Docker ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª—ë–Ω, —Ç–æ–º—ã —Ö—Ä–∞–Ω—è—Ç –¥–∞–Ω–Ω—ã–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –µ–≥–æ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞.

–ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ç–æ–º–∞:

- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

- –û–±—â–∏–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –º–µ–∂–¥—É –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.

- –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç –æ–±—Ä–∞–∑–∞.

–¢–æ–º –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–∏—à–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤ —ç—Ç—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ —Ç–æ–º–µ.
```bash
docker run -v myvolume:/app/data myimage
```
>/app/data ‚Äî –ø—É—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.  
>myvolume ‚Äî –∏–º—è —Ç–æ–º–∞ –Ω–∞ —Ö–æ—Å—Ç–µ. 

**–õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ —Ö–æ—Å—Ç–µ (bind mount)**
```bash
docker run -v ${PWD}/data:/app/data myimage
```
–ü–ª—é—Å—ã:

* –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å: –≤–∏–¥–∏—à—å –≤—Å–µ —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é.  
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤–∏–¥–µ—Ç—å –∏–ª–∏ –º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–Ω–∞—Ä—É–∂–∏.

–ú–∏–Ω—É—Å—ã:

* –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –û–° –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ö–æ—Å—Ç–∞.  
* –ü—Ä–æ–±–ª–µ–º—ã —Å –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å—é (–æ—Å–æ–±–µ–Ω–Ω–æ –º–µ–∂–¥—É Linux/Windows).  

**–¢–æ–º —Å –∏–º–µ–Ω–µ–º (named volume)**
```bash
docker volume create myvolume
docker run -v myvolume:/app/data myimage
```
–∏–ª–∏
```bash
docker run -v myvolume:/app/data myimage
```
Docker —Å–∞–º —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º: –æ–±—ã—á–Ω–æ –≤ /var/lib/docker/volumes/....  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –Ω–µ–≤–∞–∂–Ω–æ, –≥–¥–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ª–µ–∂–∏—Ç —Ç–æ–º, –Ω–æ –≤–∞–∂–Ω–æ ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ –∏–º–µ–Ω–∏.

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ç–æ–º (anonymous volume)**
```bash
docker run -v /app/data myimage
```
Docker —Å–∞–º —Å–æ–∑–¥–∞—ë—Ç —Ç–æ–º —Å —Ä–∞–Ω–¥–æ–º–Ω—ã–º –∏–º–µ–Ω–µ–º, –∏ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç –µ–≥–æ –≤ /app/data.

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–º–∞–º–∏**
```bash
docker volume ls                  # —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç–æ–º–æ–≤
docker volume inspect myvolume   # –¥–µ—Ç–∞–ª–∏ –æ —Ç–æ–º–µ
docker volume rm myvolume        # —É–¥–∞–ª–∏—Ç—å —Ç–æ–º
docker volume prune              # —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
```

| –¢–∏–ø                  | –°–∏–Ω—Ç–∞–∫—Å–∏—Å                          | –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏ | –£–¥–æ–±—Å—Ç–≤–æ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å      |
| -------------------- | ---------------------------------- | -------------------- | -------- | ----------------------- |
| **Bind-–º–æ–Ω—Ç—ã**       | `/path/on/host:/path/in/container` | –ü–æ–ª–Ω—ã–π               | –°—Ä–µ–¥–Ω–µ–µ  | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, live –ø—Ä–∞–≤–∫–∏ |
| **–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–º–∞** | `name:/path/in/container`          | –ß–µ—Ä–µ–∑ Docker         | –í—ã—Å–æ–∫–æ–µ  | –ü—Ä–æ–¥, –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫  |
| **–ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ç–æ–º–∞**   | `:/path/in/container`              | –ù–µ—Ç                  | –ù–∏–∑–∫–æ–µ   | –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã    |
