# SemEval2025 Task - 8 

## Solution

### –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è ‚Äî —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å —Ç–∞–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Å–Ω–∞—á–∞–ª–∞ –≤—ã–±—Ä–∞–≤ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã, –∞ –∑–∞—Ç–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LLM –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–∏—Ö —Å—Ç–æ–ª–±—Ü–æ–≤. –≠—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–ª—å–∑—è –Ω–∞–ø—Ä—è–º—É—é –≤—Å—Ç–∞–≤–∏—Ç—å –≤ prompt.

–°—Ö–µ–º–∞: –≤–æ–ø—Ä–æ—Å -> LLM -> —Å—Ç–æ–ª–±—Ü—ã -> LLM -> pandas code -> –æ—Ç–≤–µ—Ç

### Column-Augmented Generation (CAG)

–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ (–≤–∫–ª—é—á–∞—è –∏–º—è, —Ç–∏–ø, –º–∏–Ω/–º–∞–∫—Å –∑–Ω–∞—á–µ–Ω–∏—è –∏ –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)

–ü—Ä–æ–º–ø—Ç –≤–∏–¥–∞
```
Given a table contains columns with names <list of column names>, I want to answer a question:
<question>.

Please select a few column names from the list <list of column names>, the values of which will
help answer the question.

Please provide a list of column names in the list format without any additional explanations.
```

```
Given a table contains columns with names <list of column names>, I want to answer a question:
<question>.

Please select a few column names from the list <list of column names>, the values of which will
help answer the question.

Please provide a list of column names in the list format without any additional explanations.
```

–û—Ç–≤–µ—Ç LLM: `["column_1", "column_2", "column_3"]`

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è pandas code

```
# Examples:
# Example 1:
# Question: <question>
# Answer: <answer>
# Example 2: . . .
‚Äî‚Äì
# Instructions:
# Implement the following function in one line.
# Answer with the function only with no additional explanations.
# The function must return one of these types: bool, int, str, list[int], or list[str].
# Formatting rules:
# 1) Answer with the function only. No comments, no additional explanations.
# 2) Your answer should start with: def answer
# 3) The function should be implemented in one line
# Your task: complete the following function in one line. It should give the answer to: {question}
def answer(df: pd.DataFrame):
df.columns = {list_columns}
return
```

| –ü—Ä–æ–±–ª–µ–º–∞                              | –†–µ—à–µ–Ω–∏–µ                                               |
| ------------------------------------- | ----------------------------------------------------- |
| ‚ùó LLM –º–æ–∂–µ—Ç –æ—à–∏–±–∞—Ç—å—Å—è –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ    | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `try/except`, –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—é, self-refine |
| ‚ùó –û—Ç–≤–µ—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –≤ –∫–æ–¥–µ          | –ñ—ë—Å—Ç–∫–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å: ‚Äú–≤–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ `python` –∫–æ–¥‚Äù         |

 –ï—Å–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞, –ø—Ä–∏–º–µ–Ω—è–ª—Å—è –º–µ—Ç–æ–¥ self-refine —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –ø—Ä–æ–º–ø—Ç.

### Reasoning Prompting Techniques
–ß—Ç–æ–±—ã –ø–æ–≤—ã—Å–∏—Ç—å –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ —Ç–æ—á–Ω–æ—Å—Ç—å, –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–µ—Ö–Ω–∏–∫:

- üìç Chain-of-Thought (CoT)
–ó–∞—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ–¥–µ–ª—å –¥—É–º–∞—Ç—å –ø–æ—à–∞–≥–æ–≤–æ: "Let‚Äôs think step by step".

- üìç Self-Consistency
–ú–æ–¥–µ–ª—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ (3‚Äì10).
 –í—Å–µ –æ—Ç–≤–µ—Ç—ã –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ —á–∞—Å—Ç—ã–π.

- üìç Self-Refine
–ú–æ–¥–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ–±—è: –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–∞–º–∞ –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–≥–æ.

| –ü–æ–¥—Ö–æ–¥                        | EM (—Ç–æ—á–Ω–æ—Å—Ç—å) |
| ----------------------------- | ------------- |
| Llama-3.1-8B-Instruct         | 27.78%        |
| + CAG                         | 37.93%        |
| + CAG + CoT                   | 64.87%        |
| + CAG + CoT + Consistency(10) | **81.99%**    |
| DeepSeek-R1-32B + CAG         | **83.52%**    |

---

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ–¥—Ö–æ–¥—ã –∫ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—é QA-—Å–∏—Å—Ç–µ–º –Ω–∞ —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —É—Å–∏–ª–µ–Ω—ã –∑–∞ —Å—á—ë—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥—Ä–∞—Ñ–æ–≤ –∑–Ω–∞–Ω–∏–π

## Basic solution - –∫–∞–∫ –ø–æ–º–µ—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç 100 —Ç. —Å—Ç—Ä–æ–∫

CAG +:

-  **–†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ (row retrieval)**  
–ò–¥–µ—è: –∫–∞–∫ —Ç—ã –≤—ã–±—Ä–∞–ª —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã, —Ç–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏   —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏.   
–ê–ª–≥–æ—Ä–∏—Ç–º—ã:  
Dense retrieval (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å BGE, ColBERT)   
BM25 (–µ—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å –±—ã—Å—Ç—Ä–æ –∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º)  
Hybrid retrieval (BGE + BM25)  

- **LLM-assisted row filtering**  
–ü—Ä–æ–º–ø—Ç–∏—Ä—É–µ—à—å LLM: ¬´–≤–æ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫, –≤–æ—Ç –≤–æ–ø—Ä–æ—Å ‚Äî –∫–∞–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã?¬ª

- **Pre-aggregation**  
 –í—ã–ø–æ–ª–Ω–∏—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ Pandas

---

## –°–ø–æ—Å–æ–±—ã –¥–æ–æ–±—É—á–µ–Ω–∏—è LLM

| –í–∏–¥ –æ–±—É—á–µ–Ω–∏—è                         | –°—É—Ç—å                                                                 | –ü–ª—é—Å—ã                                                                 | –ú–∏–Ω—É—Å—ã                                                                 |
|-------------------------------------|----------------------------------------------------------------------|-----------------------------------------------------------------------|------------------------------------------------------------------------|
| **Few-shot prompting**              | –ü—Ä–∏–º–µ—Ä—ã –≤ prompt –±–µ–∑ –æ–±—É—á–µ–Ω–∏—è                                        | - –ë–µ–∑ –∑–∞—Ç—Ä–∞—Ç<br>- –ë—ã—Å—Ç—Ä–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å<br>- –ì–∏–±–∫–∏–π prompt               | - –ù–µ –æ–±—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å<br>- –û–≥—Ä–∞–Ω–∏—á–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º<br>- –ù–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ       |
| **Zero-shot prompting**             | –û–¥–∏–Ω prompt –±–µ–∑ –ø—Ä–∏–º–µ—Ä–æ–≤                                             | - –í–æ–æ–±—â–µ –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö<br>- –ü—Ä–æ—Å—Ç–æ                                        | - –ß–∞—Å—Ç–æ –Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ                                                |
| **Supervised Fine-Tuning (SFT)**    | –î–æ–æ–±—É—á–µ–Ω–∏–µ –Ω–∞ (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è ‚Üí –æ—Ç–≤–µ—Ç)                                   | -–£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å<br>- –£–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ<br>- –•–æ—Ä–æ—à–æ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏   | - –¢—Ä–µ–±—É–µ—Ç –¥–∞–Ω–Ω—ã—Ö<br>- –ó–∞—Ç—Ä–∞—Ç–Ω–æ<br>- –†–∏—Å–∫ –∑–∞–±—ã–≤–∞–Ω–∏—è                     |
| **LoRA / QLoRA**                    | –û–±—É—á–µ–Ω–∏–µ —á–∞—Å—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏ (–∞–¥–∞–ø—Ç–µ—Ä—ã)                          | - –õ—ë–≥–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ<br>- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ<br>- –ú–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å –∞–¥–∞–ø—Ç–∞—Ü–∏—é      | - –ù–µ–º–Ω–æ–≥–æ —Ö—É–∂–µ SFT<br>- –¢—Ä–µ–±—É–µ—Ç PEFT-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏                        |
| **Full fine-tuning**                | –û–±—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–µ—Å–æ–≤ –º–æ–¥–µ–ª–∏                                           | - –ú–∞–∫—Å. –∫–æ–Ω—Ç—Ä–æ–ª—å<br>- –õ—É—á—à–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è                               | - –û—á–µ–Ω—å —Ä–µ—Å—É—Ä—Å–æ—ë–º–∫–æ<br>- –°–ª–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å                         |
| **RLHF / DPO**                      | –î–æ–æ–±—É—á–µ–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º (A > B)                                  | - –õ—É—á—à–µ —Å–ª—É—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è<br>- –£–ª—É—á—à–∞–µ—Ç —Ç–æ–Ω –∏ —Å—Ç–∏–ª—å –æ—Ç–≤–µ—Ç–æ–≤        | - –¢—Ä—É–¥–Ω–æ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è<br>- –°–ª–æ–∂–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ                    |
| **Retrieval fine-tuning**           | –î–æ–æ–±—É—á–µ–Ω–∏–µ retriever'–∞ –Ω–∞ –ø–∞—Ä–∞—Ö (–≤–æ–ø—Ä–æ—Å, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç)       | - –õ—É—á—à–µ –ø–æ–∏—Å–∫<br>- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ RAG                           | - –¢—Ä–µ–±—É–µ—Ç —Ä–∞–∑–º–µ—Ç–∫–∏<br>- –û—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è                     |
| **End-to-end RAG tuning**           | –°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ retriever + generator                            | - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Å–µ–π —Ü–µ–ø–æ—á–∫–∏<br>- –õ—É—á—à–∞—è —Å–≤—è–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤             | - –°–ª–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å<br>- –¢—Ä–µ–±—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏              |
