# Интерфейсы, наследования, пакеты, строки

### Интерфейсы

- Интерфейс в Java — это контракт (набор методов), который класс обязан реализовать.
- Определяется с помощью ключевого слова `interface`.
- Поддерживает **множественное наследование** (класс может реализовывать несколько интерфейсов).
- Поля интерфейса:
    - `public static final` (константы).
- Методы интерфейса:
    - До Java 8 — только `public abstract` (без реализации).
    - С Java 8 — можно добавлять:
        - `default` методы (с реализацией).
        - `static` методы.
    - С Java 9 — можно использовать `private` методы (для внутренних нужд интерфейса).

#### Object.equals()

- Рефлексивность (a.equals(a) == true)
- Симметричность (a.equals(b) == b.equals(a))
- Транзитивность (a.equals(b) && b.equals(c) => a.equals(c))
- Последовательность (a.equals(b) не меняется, пока объекты не меняются)
- Никто не равен null!

### Абстрактные классы

- Абстрактный класс — это класс, от которого **нельзя создать объект напрямую** (`new`).
- Он может содержать как **абстрактные методы** (без реализации), так и **обычные методы** с реализацией.
- Класс, который **наследует абстрактный класс**, обязан реализовать все его абстрактные методы (если сам не абстрактный).

| Сравнение    | Абстрактный класс                                  | Интерфейс                                                                  |
| ------------ | -------------------------------------------------- | -------------------------------------------------------------------------- |
| Объекты      | Нельзя создать объект напрямую                     | Нельзя создать объект напрямую                                             |
| Поля         | Может содержать **обычные поля** (состояние)       | Может содержать только **константы (public static final)**                 |
| Методы       | Может содержать абстрактные и обычные методы       | До Java 8 — только абстрактные, с Java 8 — ещё `default` и `static` методы |
| Наследование | Один абстрактный класс можно расширять (`extends`) | Можно реализовать несколько интерфейсов (`implements`)                     |
| Конструкторы | Есть                                               | Нет                                                                        |

### Enum

- `enum` (enumeration) — это специальный тип в Java для создания **ограниченного набора констант**.
- В Java `enum` является полноценным **классом**, который:
    - неявно наследует `java.lang.Enum`;
    - может содержать **поля, методы, конструкторы**;
    - можно использовать в `switch`.

Методы enum (унаследованы от `java.lang.Enum`):

- `name()` → возвращает имя константы (String).

- `ordinal()` → возвращает порядковый номер (начиная с 0).

- `values()` → возвращает массив всех значений.

- `valueOf(String)` → возвращает константу по имени.

### Пакеты и модули

#### Пакеты packages
- Пакет = **пространство имён** для классов, интерфейсов, enum’ов.
- Используются для:
    - организации кода по папкам;
    - избежания конфликтов имён;
    - контроля доступа (`public`, `protected`, `default`).

```java
package com.example.myapp;

public class MyClass {
    public void sayHello() {
        System.out.println("Hello");
    }
}
```

#### Модули
- Модуль = более высокий уровень организации кода, чем пакет.
- Содержит один или несколько пакетов.
- Позволяет явно управлять:
  - экспортом пакетов (exports);
  - зависимостями (requires).

```
project/
 └─ src/
     └─ my.module/                  <-- имя модуля
         ├─ module-info.java        <-- описание модуля
         └─ com/example/myapp/
             └─ MyClass.java

```

### Строки

- Строки в Java представлены классом `java.lang.String`.
- Строка — это **неизменяемый объект** (immutable).
- В Java строки хранятся в **String Pool** (для оптимизации памяти).
- Создать строку можно:
  ```java
  String s1 = "Hello";               // строковый литерал (в пуле строк)
  String s2 = new String("Hello");   // новый объект вне пула
  ```
  
Основные методы класса String:

| Метод                   | Пример                     | Результат            |
| ----------------------- | -------------------------- | -------------------- |
| `length()`              | `str.length()`             | `14`                 |
| `charAt(int index)`     | `str.charAt(2)`            | `'v'`                |
| `substring(begin, end)` | `str.substring(2, 6)`      | `"va S"`             |
| `contains("ava")`       | `str.contains("ava")`      | `true`               |
| `indexOf("S")`          | `str.indexOf("S")`         | `5`                  |
| `isEmpty()`             | `"".isEmpty()`             | `true`               |
| `toLowerCase()`         | `str.toLowerCase()`        | `"  java strings  "` |
| `toUpperCase()`         | `str.toUpperCase()`        | `"  JAVA STRINGS  "` |
| `trim()`                | `str.trim()`               | `"Java Strings"`     |
| `replace("a","@")`      | `str.replace("a", "@")`    | `"  J@v@ Strings  "` |
| `startsWith("Ja")`      | `"Java".startsWith("Ja")`  | `true`               |
| `endsWith("gs")`        | `"Strings".endsWith("gs")` | `true`               |
| `split(" ")`            | `"a b c".split(" ")`       | `["a","b","c"]`      |
